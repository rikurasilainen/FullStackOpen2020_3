{"version":3,"sources":["components/Filter.js","components/Form.js","components/Person.js","components/PersonsPrint.js","services/PersonService.js","components/Notification.js","App.js","index.js"],"names":["Filter","onChange","filter","Form","addPerson","newName","newNumber","handleAdd","handleNumber","onSubmit","required","value","type","Person","name","number","handleDelete","onClick","PersonsPrint","personsFiltered","map","person","key","baseUrl","axios","get","then","response","data","newPerson","post","id","delete","put","Notification","message","error","className","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","setPersonsFiltered","setMessage","setError","useEffect","personService","initial","handleNotification","setTimeout","event","toLowerCase","includes","target","preventDefault","find","window","confirm","p","copy","catch","concat","reset","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c6f89337.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ onChange, filter }) => {\r\n    return (\r\n        <form>\r\n            Filter shown with <input\r\n                onChange={onChange}\r\n                filter={filter}\r\n            />\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Form = ({addPerson, newName, newNumber, handleAdd, handleNumber}) => {\r\n    return (\r\n        <div>\r\n            <h2>Add a new contact</h2>\r\n            <form onSubmit={addPerson}>\r\n                <div>\r\n                    name: <input required\r\n                        value={newName}\r\n                        onChange={handleAdd} />\r\n                </div>\r\n                <div>number: <input required\r\n                    value={newNumber}\r\n                    onChange={handleNumber} /></div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Form","import React from 'react'\r\n\r\nconst Person = ({name, number, handleDelete}) => <li>{name} {number} <button onClick={() => handleDelete(name)}>delete</button></li>\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst PersonsPrint = ({personsFiltered, handleDelete}) => {\r\n    return (\r\n        <div>\r\n            <h2>Numbers</h2>\r\n            <ul>\r\n                {personsFiltered.map((person) =>\r\n                    <Person key={person.name} name={person.name} number={person.number} handleDelete={handleDelete} />\r\n                )}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonsPrint","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst addPersonServer = newPerson => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => axios.delete(`${baseUrl}/${id}`)\r\n\r\nconst changePerson = (id, newPerson) => {\r\n    return axios.put(`${baseUrl}/${id}`, newPerson)\r\n}\r\n\r\nexport default { getAll, addPersonServer, deletePerson, changePerson }\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message, error }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    if (error === true) {\r\n        return <div className=\"error\">{message}</div>\r\n    } else {\r\n        return <div className=\"notification\">{message}</div>\r\n    }\r\n}\r\n\r\nexport default Notification","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport PersonsPrint from './components/PersonsPrint'\nimport personService from './services/PersonService'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [personsFiltered, setPersonsFiltered] = useState([])\n  const [message, setMessage] = useState(null)\n  const [error, setError] = useState(false)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initial => {\n        setPersons(initial)\n        setPersonsFiltered(initial)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if (persons.find(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already in the phonebook, replace the old number with a new one?`)) {\n        const person = persons.find(p => p.name === newName)\n        const id = person.id\n        const copy = { ...person }\n        copy.number = newNumber\n\n        personService\n          .changePerson(id, copy)\n          .then(response => {\n            person.number = newNumber\n            handleNotification(`Phonenumber of ${person.name} changed`)\n\n          }).catch((error) => {\n            setError(true)\n            handleNotification(`Information of ${newName} has already been removed from the server`)\n            setPersons(persons.filter(person => person.id !== id))\n            setPersonsFiltered(persons.filter(person => person.id !== id))\n          })\n      }\n\n    } else {\n\n      const person = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .addPersonServer(person)\n        .then(response => {\n          setPersons(persons.concat(response))\n          setPersonsFiltered(persons.concat(response))\n          handleNotification(`${person.name} added to the phonebook`)\n        })\n        .catch(error => {\n          setError(true)\n          setMessage(error.response.data.error)\n        })\n\n    }\n    setNewName('')\n    setNewNumber('')\n    event.target.reset()\n  }\n\n  const handleNotification = (message) => {\n    if (error) {\n      setMessage()\n      setTimeout(() => {\n        setMessage(null)\n        setError(false)\n      }, 5000)\n    }\n    setMessage(message)\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000)\n  }\n\n  const handleNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleAdd = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setPersonsFiltered(persons\n      .filter(person => person.name.toLowerCase()\n        .includes(event.target.value.toLowerCase())))\n    setFilter(event.target.value)\n  }\n\n  const handleDelete = (name) => {\n\n    const id = persons.find(p => p.name === name).id\n\n    if (window.confirm(`Delete ${name}?`)) {\n      personService\n        .deletePerson(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n          setPersonsFiltered(persons.filter(person => person.id !== id))\n          handleNotification(`${name} has been deleted from the phonebook`)\n\n        }).catch(() => {\n          setError(true)\n          handleNotification(`Information of ${name} has already been removed from the server`)\n          setPersons(persons.filter(person => person.id !== id))\n          setPersonsFiltered(persons.filter(person => person.id !== id))\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification className='notification' message={message} error={error} />\n      <Filter filter={filter} onChange={handleFilter} />\n      <Form handleAdd={handleAdd} handleNumber={handleNumber} name={newName} number={newNumber} addPerson={addPerson} />\n      <PersonsPrint personsFiltered={personsFiltered} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}